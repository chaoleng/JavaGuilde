<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="networkTitle">Javaç½‘ç»œç¼–ç¨‹ - å¯è§†åŒ–è®²è§£</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/network.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5/github-markdown.min.css">

    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
</head>
<body>
    <div class="language-switcher">
        <select id="language-selector" onchange="window.langSwitcher.changeLanguage(this.value)">
            <option value="zh">ä¸­æ–‡</option>
            <option value="ja">æ—¥æœ¬èª</option>
            <option value="en">English</option>
        </select>
    </div>

    <div class="container">
        <header class="animate__animated animate__fadeInDown">
            <h1>ğŸŒ <span data-i18n="networkTitle">Javaç½‘ç»œç¼–ç¨‹</span></h1>
            <p data-i18n="networkSubtitle">Socketé€šä¿¡ä¸ç½‘ç»œåè®®çš„å¯è§†åŒ–è®²è§£</p>
        </header>

        <!-- ç½‘ç»œåè®®æ¦‚è§ˆ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="protocolOverviewTitle">ç½‘ç»œåè®®æ¦‚è§ˆ</h2>
            <p data-i18n="protocolOverviewDesc">Javaæ”¯æŒå¤šç§ç½‘ç»œåè®®ï¼Œç”¨äºä¸åŒåœºæ™¯çš„ç½‘ç»œé€šä¿¡ã€‚</p>

            <div class="protocol-types">
                <div class="protocol-card animate__animated animate__zoomIn">
                    <div class="protocol-icon">ğŸ”Œ</div>
                    <h3>TCP</h3>
                    <p data-i18n="tcpDesc">é¢å‘è¿æ¥<br>å¯é ä¼ è¾“<br>é€‚ç”¨äºæ–‡ä»¶ä¼ è¾“</p>
                </div>
                <div class="protocol-card animate__animated animate__zoomIn" style="animation-delay: 0.1s;">
                    <div class="protocol-icon">ğŸ“¡</div>
                    <h3>UDP</h3>
                    <p data-i18n="udpDesc">æ— è¿æ¥<br>å¿«é€Ÿä¼ è¾“<br>é€‚ç”¨äºå®æ—¶é€šä¿¡</p>
                </div>
                <div class="protocol-card animate__animated animate__zoomIn" style="animation-delay: 0.2s;">
                    <div class="protocol-icon">ğŸŒ</div>
                    <h3>HTTP/HTTPS</h3>
                    <p data-i18n="httpDesc">Webåè®®<br>è¯·æ±‚-å“åº”æ¨¡å¼<br>é€‚ç”¨äºWebåº”ç”¨</p>
                </div>
                <div class="protocol-card animate__animated animate__zoomIn" style="animation-delay: 0.3s;">
                    <div class="protocol-icon">âš¡</div>
                    <h3>WebSocket</h3>
                    <p data-i18n="websocketDesc">å…¨åŒå·¥é€šä¿¡<br>æŒä¹…è¿æ¥<br>é€‚ç”¨äºå®æ—¶åº”ç”¨</p>
                </div>
            </div>
        </section>

        <!-- TCP vs UDP å¯¹æ¯” -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="tcpVsUdpTitle">TCP vs UDP å¯¹æ¯”</h2>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th data-i18n="featureCol">ç‰¹æ€§</th>
                        <th>TCP</th>
                        <th>UDP</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-i18n="connectionType">è¿æ¥ç±»å‹</td>
                        <td data-i18n="connectionOriented">é¢å‘è¿æ¥</td>
                        <td data-i18n="connectionless">æ— è¿æ¥</td>
                    </tr>
                    <tr>
                        <td data-i18n="reliability">å¯é æ€§</td>
                        <td data-i18n="reliable">å¯é ï¼ˆä¿è¯é¡ºåºï¼‰</td>
                        <td data-i18n="unreliable">ä¸å¯é ï¼ˆå¯èƒ½ä¸¢åŒ…ï¼‰</td>
                    </tr>
                    <tr>
                        <td data-i18n="speed">é€Ÿåº¦</td>
                        <td data-i18n="slower">è¾ƒæ…¢</td>
                        <td data-i18n="faster">è¾ƒå¿«</td>
                    </tr>
                    <tr>
                        <td data-i18n="useCases">ä½¿ç”¨åœºæ™¯</td>
                        <td data-i18n="tcpUseCases">æ–‡ä»¶ä¼ è¾“ã€é‚®ä»¶ã€HTTP</td>
                        <td data-i18n="udpUseCases">è§†é¢‘æµã€æ¸¸æˆã€DNS</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- TCP Socket é€šä¿¡ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="tcpSocketTitle">TCP Socket é€šä¿¡</h2>
            <p data-i18n="tcpSocketDesc">ä½¿ç”¨ServerSocketå’ŒSocketå®ç°å®¢æˆ·ç«¯-æœåŠ¡å™¨é€šä¿¡ã€‚</p>

            <div class="visualization">
                <div class="network-flow">
                    <div class="network-node">
                        <div style="font-size: 2em;">ğŸ’»</div>
                        <div data-i18n="client">å®¢æˆ·ç«¯</div>
                        <div style="font-size: 0.9em; color: #666;">Socket</div>
                    </div>
                    <div class="bidirectional-arrow">
                        <div style="color: #51cf66;">â†’ <span data-i18n="sendData">å‘é€æ•°æ®</span></div>
                        <div style="color: #ff6b6b;">â† <span data-i18n="receiveData">æ¥æ”¶æ•°æ®</span></div>
                    </div>
                    <div class="network-node">
                        <div style="font-size: 2em;">ğŸ–¥ï¸</div>
                        <div data-i18n="server">æœåŠ¡å™¨</div>
                        <div style="font-size: 0.9em; color: #666;">ServerSocket</div>
                    </div>
                </div>
            </div>

            <h3 data-i18n="serverCode">æœåŠ¡å™¨ç«¯ä»£ç </h3>
            <div class="markdown-body">
                    <pre><code class="language-java">// TCPã‚µãƒ¼ãƒãƒ¼
public class TCPServer {
    public static void main(String[] args) {
        try (ServerSocket serverSocket = new ServerSocket(8080)) {

            System.out.println("ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¾ã—ãŸã€‚ãƒãƒ¼ãƒˆ: 8080");

            while (true) {
                // ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¥ç¶šã‚’å¾…ã¤
                Socket clientSocket = serverSocket.accept();
                System.out.println("ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæ¥ç¶šã—ã¾ã—ãŸ");

                // å…¥åŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å–å¾—
                BufferedReader in = new BufferedReader(
                    new InputStreamReader(clientSocket.getInputStream()));

                // å‡ºåŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å–å¾—
                PrintWriter out = new PrintWriter(
                    clientSocket.getOutputStream(), true);

                // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã¿å–ã‚‹
                String message = in.readLine();
                System.out.println("å—ä¿¡: " + message);

                // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é€ä¿¡
                out.println("ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®å¿œç­”: " + message);

                clientSocket.close();
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</code></pre>
                </div>

            <h3 data-i18n="clientCode">å®¢æˆ·ç«¯ä»£ç </h3>
            <div class="markdown-body">
                    <pre><code class="language-java">// TCPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
public class TCPClient {
    public static void main(String[] args) {
        try (Socket socket = new Socket("localhost", 8080)) {

            // å‡ºåŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å–å¾—
            PrintWriter out = new PrintWriter(
                socket.getOutputStream(), true);

            // å…¥åŠ›ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’å–å¾—
            BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));

            // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡
            out.println("Hello, Server!");

            // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ä¿¡
            String response = in.readLine();
            System.out.println("å—ä¿¡: " + response);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</code></pre>
                </div>
        </section>

        <!-- UDP Socket é€šä¿¡ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="udpSocketTitle">UDP Socket é€šä¿¡</h2>
            <p data-i18n="udpSocketDesc">ä½¿ç”¨DatagramSocketå’ŒDatagramPacketå®ç°æ— è¿æ¥é€šä¿¡ã€‚</p>

            <div class="visualization">
                <div class="network-flow">
                    <div class="network-node">
                        <div style="font-size: 2em;">ğŸ“¤</div>
                        <div data-i18n="sender">å‘é€ç«¯</div>
                        <div style="font-size: 0.9em; color: #666;">DatagramSocket</div>
                    </div>
                    <div class="network-arrow">â†’</div>
                    <div class="network-node">
                        <div style="font-size: 2em;">ğŸ“¦</div>
                        <div data-i18n="packet">æ•°æ®åŒ…</div>
                        <div style="font-size: 0.9em; color: #666;">DatagramPacket</div>
                    </div>
                    <div class="network-arrow">â†’</div>
                    <div class="network-node">
                        <div style="font-size: 2em;">ğŸ“¥</div>
                        <div data-i18n="receiver">æ¥æ”¶ç«¯</div>
                        <div style="font-size: 0.9em; color: #666;">DatagramSocket</div>
                    </div>
                </div>
            </div>

            <div class="markdown-body">
                    <pre><code class="language-java">// UDPã‚µãƒ¼ãƒãƒ¼ï¼ˆå—ä¿¡å´ï¼‰
public class UDPServer {
    public static void main(String[] args) {
        try (DatagramSocket socket = new DatagramSocket(9876)) {

            byte[] buffer = new byte[1024];
            DatagramPacket packet = new DatagramPacket(buffer, buffer.length);

            System.out.println("UDPã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¾ã—ãŸ");

            // ãƒ‘ã‚±ãƒƒãƒˆã‚’å—ä¿¡
            socket.receive(packet);

            String message = new String(packet.getData(), 0, packet.getLength());
            System.out.println("å—ä¿¡: " + message);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

// UDPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆé€ä¿¡å´ï¼‰
public class UDPClient {
    public static void main(String[] args) {
        try (DatagramSocket socket = new DatagramSocket()) {

            String message = "Hello, UDP Server!";
            byte[] buffer = message.getBytes();

            InetAddress address = InetAddress.getByName("localhost");
            DatagramPacket packet = new DatagramPacket(
                buffer, buffer.length, address, 9876);

            // ãƒ‘ã‚±ãƒƒãƒˆã‚’é€ä¿¡
            socket.send(packet);
            System.out.println("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã—ãŸ");

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</code></pre>
                </div>
        </section>

        <!-- HTTP å®¢æˆ·ç«¯ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="httpClientTitle">HTTP å®¢æˆ·ç«¯</h2>
            <p data-i18n="httpClientDesc">ä½¿ç”¨HttpURLConnectionæˆ–HttpClientå‘é€HTTPè¯·æ±‚ã€‚</p>

            <div class="markdown-body">
                    <pre><code class="language-java">// HTTP GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆHttpURLConnectionï¼‰
public class HttpGetExample {
    public static void main(String[] args) {
        try {
            URL url = new URL("https://api.example.com/data");
            HttpURLConnection conn = (HttpURLConnection) url.openConnection();

            conn.setRequestMethod("GET");
            conn.setRequestProperty("Accept", "application/json");

            int responseCode = conn.getResponseCode();
            System.out.println("ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚³ãƒ¼ãƒ‰: " + responseCode);

            if (responseCode == HttpURLConnection.HTTP_OK) {
                BufferedReader in = new BufferedReader(
                    new InputStreamReader(conn.getInputStream()));

                String line;
                StringBuilder response = new StringBuilder();

                while ((line = in.readLine()) != null) {
                    response.append(line);
                }
                in.close();

                System.out.println("ãƒ¬ã‚¹ãƒãƒ³ã‚¹: " + response.toString());
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</code></pre>
                </div>
        </section>

        <!-- äº¤äº’å¼æ¼”ç¤º -->
        <section class="demo-section animate__animated animate__fadeInUp">
            <h3 data-i18n="interactiveDemoTitle">ğŸŒ äº¤äº’å¼æ¼”ç¤ºï¼šç½‘ç»œé€šä¿¡æ¨¡æ‹Ÿ</h3>
            <p data-i18n="interactiveDemoDesc">æ¨¡æ‹Ÿå®¢æˆ·ç«¯-æœåŠ¡å™¨é€šä¿¡è¿‡ç¨‹ã€‚</p>

            <div class="demo-controls">
                <button class="demo-button" onclick="simulateTCP()">
                    <span data-i18n="tcpSimBtn">TCP é€šä¿¡</span> ğŸ”Œ
                </button>
                <button class="demo-button" onclick="simulateUDP()">
                    <span data-i18n="udpSimBtn">UDP é€šä¿¡</span> ğŸ“¡
                </button>
                <button class="demo-button" onclick="simulateHTTP()">
                    <span data-i18n="httpSimBtn">HTTP è¯·æ±‚</span> ğŸŒ
                </button>
                <button class="demo-button" onclick="clearDemo()">
                    <span data-i18n="clearBtn">æ¸…ç©º</span> ğŸ—‘ï¸
                </button>
            </div>

            <div class="demo-output" id="output"></div>
        </section>

        <a href="../index.html" class="back-button">â† <span data-i18n="backToHome">è¿”å›é¦–é¡µ</span></a>
    </div>

    <!-- Custom JavaScript -->
    <script src="../js/network.js"></script>
</body>
</html>
