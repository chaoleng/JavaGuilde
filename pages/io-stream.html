<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="ioTitle">Java IOæµæ“ä½œ - å¯è§†åŒ–è®²è§£</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/io-stream.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@5/github-markdown.min.css">

    <!-- Prism.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
</head>
<body>
    <div class="language-switcher">
        <select id="language-selector" onchange="window.langSwitcher.changeLanguage(this.value)">
            <option value="zh">ä¸­æ–‡</option>
            <option value="ja">æ—¥æœ¬èª</option>
            <option value="en">English</option>
        </select>
    </div>

    <div class="container">
        <header class="animate__animated animate__fadeInDown">
            <h1>ğŸ“ <span data-i18n="ioTitle">Java IOæµæ“ä½œ</span></h1>
            <p data-i18n="ioSubtitle">æ–‡ä»¶è¯»å†™ä¸æ•°æ®æµçš„å¯è§†åŒ–è®²è§£</p>
        </header>

        <!-- IOæµç±»å‹æ¦‚è§ˆ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="ioTypesTitle">IOæµç±»å‹æ¦‚è§ˆ</h2>
            <p data-i18n="ioTypesDesc">Javaçš„IOæµåˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµï¼Œæ¯ç§æµåˆåˆ†ä¸ºè¾“å…¥æµå’Œè¾“å‡ºæµã€‚</p>

            <div class="stream-types">
                <div class="stream-card animate__animated animate__zoomIn">
                    <div class="file-icon">ğŸ“¥</div>
                    <h3 data-i18n="byteStreamTitle">å­—èŠ‚æµ</h3>
                    <p data-i18n="byteStreamDesc">InputStream / OutputStream<br>å¤„ç†äºŒè¿›åˆ¶æ•°æ®</p>
                </div>
                <div class="stream-card animate__animated animate__zoomIn" style="animation-delay: 0.1s;">
                    <div class="file-icon">ğŸ“</div>
                    <h3 data-i18n="charStreamTitle">å­—ç¬¦æµ</h3>
                    <p data-i18n="charStreamDesc">Reader / Writer<br>å¤„ç†æ–‡æœ¬æ•°æ®</p>
                </div>
                <div class="stream-card animate__animated animate__zoomIn" style="animation-delay: 0.2s;">
                    <div class="file-icon">âš¡</div>
                    <h3 data-i18n="bufferedStreamTitle">ç¼“å†²æµ</h3>
                    <p data-i18n="bufferedStreamDesc">BufferedInputStream / BufferedReader<br>æé«˜IOæ•ˆç‡</p>
                </div>
                <div class="stream-card animate__animated animate__zoomIn" style="animation-delay: 0.3s;">
                    <div class="file-icon">ğŸ’¾</div>
                    <h3 data-i18n="objectStreamTitle">å¯¹è±¡æµ</h3>
                    <p data-i18n="objectStreamDesc">ObjectInputStream / ObjectOutputStream<br>åºåˆ—åŒ–å¯¹è±¡</p>
                </div>
            </div>
        </section>

        <!-- å­—èŠ‚æµç¤ºä¾‹ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="byteStreamExampleTitle">å­—èŠ‚æµç¤ºä¾‹</h2>
            <p data-i18n="byteStreamExampleDesc">ä½¿ç”¨FileInputStreamå’ŒFileOutputStreamè¯»å†™æ–‡ä»¶ã€‚</p>

            <div class="visualization">
                <div class="stream-flow">
                    <div class="flow-box">
                        <div class="file-icon">ğŸ“„</div>
                        <div data-i18n="sourceFile">æºæ–‡ä»¶</div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-box">
                        <div>FileInputStream</div>
                        <div style="font-size: 0.9em; color: #666;" data-i18n="readBytes">è¯»å–å­—èŠ‚</div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-box">
                        <div>FileOutputStream</div>
                        <div style="font-size: 0.9em; color: #666;" data-i18n="writeBytes">å†™å…¥å­—èŠ‚</div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-box">
                        <div class="file-icon">ğŸ“„</div>
                        <div data-i18n="targetFile">ç›®æ ‡æ–‡ä»¶</div>
                    </div>
                </div>
            </div>

            <div class="markdown-body">
                    <pre><code class="language-java">// ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ”ãƒ¼ï¼ˆãƒã‚¤ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼‰
try (FileInputStream fis = new FileInputStream("source.txt");
     FileOutputStream fos = new FileOutputStream("target.txt")) {

    byte[] buffer = new byte[1024];
    int length;

    while ((length = fis.read(buffer)) != -1) {
        fos.write(buffer, 0, length);
    }

} catch (IOException e) {
    e.printStackTrace();
}</code></pre>
                </div>
        </section>

        <!-- å­—ç¬¦æµç¤ºä¾‹ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="charStreamExampleTitle">å­—ç¬¦æµç¤ºä¾‹</h2>
            <p data-i18n="charStreamExampleDesc">ä½¿ç”¨FileReaderå’ŒFileWriterè¯»å†™æ–‡æœ¬æ–‡ä»¶ã€‚</p>

            <div class="markdown-body">
                    <pre><code class="language-java">// ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãï¼ˆæ–‡å­—ã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼‰
try (FileReader reader = new FileReader("input.txt");
     FileWriter writer = new FileWriter("output.txt")) {

    char[] buffer = new char[1024];
    int length;

    while ((length = reader.read(buffer)) != -1) {
        writer.write(buffer, 0, length);
    }

} catch (IOException e) {
    e.printStackTrace();
}</code></pre>
                </div>
        </section>

        <!-- ç¼“å†²æµç¤ºä¾‹ -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="bufferedStreamExampleTitle">ç¼“å†²æµç¤ºä¾‹</h2>
            <p data-i18n="bufferedStreamExampleDesc">ä½¿ç”¨BufferedReaderå’ŒBufferedWriteræé«˜IOæ•ˆç‡ã€‚</p>

            <div class="visualization">
                <div style="text-align: center; margin: 20px 0;">
                    <div style="display: inline-block; text-align: left;">
                        <div style="margin: 10px 0;">
                            <span style="background: #ff6b6b; padding: 5px 10px; border-radius: 5px; color: white;">
                                <span data-i18n="noBuffer">æ— ç¼“å†²</span>: <span data-i18n="readOneByte">æ¯æ¬¡è¯»1å­—èŠ‚</span> = <span data-i18n="slowSpeed">æ…¢</span> ğŸŒ
                            </span>
                        </div>
                        <div style="margin: 10px 0;">
                            <span style="background: #51cf66; padding: 5px 10px; border-radius: 5px; color: white;">
                                <span data-i18n="withBuffer">æœ‰ç¼“å†²</span>: <span data-i18n="readMultipleBytes">ä¸€æ¬¡è¯»8192å­—èŠ‚</span> = <span data-i18n="fastSpeed">å¿«</span> ğŸš€
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="markdown-body">
                    <pre><code class="language-java">// ãƒãƒƒãƒ•ã‚¡ä»˜ããƒ†ã‚­ã‚¹ãƒˆèª­ã¿è¾¼ã¿
try (BufferedReader reader = new BufferedReader(
        new FileReader("data.txt"))) {

    String line;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }

} catch (IOException e) {
    e.printStackTrace();
}

// ãƒãƒƒãƒ•ã‚¡ä»˜ããƒ†ã‚­ã‚¹ãƒˆæ›¸ãè¾¼ã¿
try (BufferedWriter writer = new BufferedWriter(
        new FileWriter("output.txt"))) {

    writer.write("Hello, World!");
    writer.newLine(); // æ”¹è¡Œã‚’è¿½åŠ 
    writer.write("Second line");

} catch (IOException e) {
    e.printStackTrace();
}</code></pre>
                </div>
        </section>

        <!-- å¯¹è±¡åºåˆ—åŒ– -->
        <section class="animate__animated animate__fadeInUp">
            <h2 data-i18n="serializationTitle">å¯¹è±¡åºåˆ—åŒ–</h2>
            <p data-i18n="serializationDesc">å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµè¿›è¡Œå­˜å‚¨æˆ–ä¼ è¾“ã€‚</p>

            <div class="visualization">
                <div class="stream-flow">
                    <div class="flow-box">
                        <div style="font-size: 2em;">ğŸ¯</div>
                        <div data-i18n="javaObject">Javaå¯¹è±¡</div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-box">
                        <div>ObjectOutputStream</div>
                        <div style="font-size: 0.9em; color: #666;" data-i18n="serialize">åºåˆ—åŒ–</div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-box">
                        <div style="font-size: 2em;">ğŸ’¾</div>
                        <div data-i18n="byteStream">å­—èŠ‚æµ</div>
                    </div>
                </div>
                <div style="text-align: center; margin: 20px 0; font-size: 2em; color: #667eea;">â‡…</div>
                <div class="stream-flow">
                    <div class="flow-box">
                        <div style="font-size: 2em;">ğŸ¯</div>
                        <div data-i18n="javaObject">Javaå¯¹è±¡</div>
                    </div>
                    <div class="flow-arrow">â†</div>
                    <div class="flow-box">
                        <div>ObjectInputStream</div>
                        <div style="font-size: 0.9em; color: #666;" data-i18n="deserialize">ååºåˆ—åŒ–</div>
                    </div>
                    <div class="flow-arrow">â†</div>
                    <div class="flow-box">
                        <div style="font-size: 2em;">ğŸ’¾</div>
                        <div data-i18n="byteStream">å­—èŠ‚æµ</div>
                    </div>
                </div>
            </div>

            <div class="markdown-body">
                    <pre><code class="language-java">// ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºå¯èƒ½ãªã‚¯ãƒ©ã‚¹
public class Person implements Serializable {
    private static final long serialVersionUID = 1L;

    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ›¸ãè¾¼ã¿ï¼ˆã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºï¼‰
try (ObjectOutputStream oos = new ObjectOutputStream(
        new FileOutputStream("person.dat"))) {

    Person person = new Person("å¤ªéƒ", 25);
    oos.writeObject(person);

} catch (IOException e) {
    e.printStackTrace();
}

// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®èª­ã¿è¾¼ã¿ï¼ˆãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºï¼‰
try (ObjectInputStream ois = new ObjectInputStream(
        new FileInputStream("person.dat"))) {

    Person person = (Person) ois.readObject();
    System.out.println(person.getName() + ", " + person.getAge());

} catch (IOException | ClassNotFoundException e) {
    e.printStackTrace();
}</code></pre>
                </div>
        </section>

        <!-- äº¤äº’å¼æ¼”ç¤º -->
        <section class="demo-section animate__animated animate__fadeInUp">
            <h3 data-i18n="interactiveDemoTitle">ğŸ“ äº¤äº’å¼æ¼”ç¤ºï¼šæ–‡ä»¶è¯»å†™æ¨¡æ‹Ÿ</h3>
            <p data-i18n="interactiveDemoDesc">æ¨¡æ‹Ÿæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥æ“ä½œã€‚</p>

            <div class="demo-controls">
                <button class="demo-button" onclick="simulateWrite()">
                    <span data-i18n="writeFileBtn">å†™å…¥æ–‡ä»¶</span> ğŸ“
                </button>
                <button class="demo-button" onclick="simulateRead()">
                    <span data-i18n="readFileBtn">è¯»å–æ–‡ä»¶</span> ğŸ“–
                </button>
                <button class="demo-button" onclick="simulateBuffered()">
                    <span data-i18n="bufferedReadBtn">ç¼“å†²è¯»å–</span> âš¡
                </button>
                <button class="demo-button" onclick="clearDemo()">
                    <span data-i18n="clearBtn">æ¸…ç©º</span> ğŸ—‘ï¸
                </button>
            </div>

            <div class="demo-output" id="output"></div>
        </section>

        <a href="../index.html" class="back-button">â† <span data-i18n="backToHome">è¿”å›é¦–é¡µ</span></a>
    </div>

    <!-- Custom JavaScript -->
    <script src="../js/io-stream.js"></script>
</body>
</html>
